<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>People</title>
    <script src="libs/underscore.js"></script>
</head>
<body>
    <div>The results are in browser's console!</div>
    <script src="human.js"></script>
    <script>
        var people;

        people = [
            new Human('Ivan', 'Georgiev'),
            new Human('Ivan', 'Andreev'),
            new Human('Pesho', 'Georgiev'),
            new Human('Joro', 'Nikolaev'),
            new Human('Nikolai', 'Georgiev'),
            new Human('Ivan', 'Todorov'),
            new Human('Peter', 'Ivanov'),
            new Human('Philip', 'Georgiev')
        ];

        console.log("7. By an array of people find the most common first and last name. Use underscore.");
        
        _.forEach(people, function (human) {
            console.log(human.toString());
        });
        console.log('==================================================================================');

        function mostCommonName(people, nameType) {
            return _.chain(people)
                .groupBy(function (human) {
                    return human[nameType];
                })
                .max(function (group) {
                    return group.length;
                })
            .value()[0][nameType];
        }

        console.log('Most common names - Firstname: ' + mostCommonName(people, 'firstName') +
                                        ', Lastname: ' + mostCommonName(people, 'lastName'));
    </script>
</body>
</html>